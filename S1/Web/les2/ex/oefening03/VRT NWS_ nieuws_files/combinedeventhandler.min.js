!function(){"use strict";let e,n;const t=()=>(window.VRT||{}).SSOConfig||{},i=i=>(...o)=>{if(n=(()=>{if(n)return n;const e=t();return e.clientId?-1!==e.clientId.indexOf("-dev")||-1!==e.clientId.indexOf("-stag"):void 0})(),e=e||localStorage.getItem("SSODebug")||t().debug,e||void 0===e&&n){const e=(new Error).stack;i.apply(null,[`%c[sso|${e.split("\n")[1].split(/[/@]/)[0]}]`,"background:rgb(93, 252, 113);color:rgb(23, 41, 74);",...o])}},o=i(console.debug),a=i(console.info),l=i(console.error);window.VRT=window.VRT||{};const{VRT:d}=window;window.VRTMediaPlayer=window.VRTMediaPlayer||{loading:!0},d.SSOEventHandler?l("VRT.SSOEventHandler has already been taken. Exiting..."):(d.SSOEventHandler=function(){let e=null,n=!1,t=null,i=!1,l=[],d=null;function r(){if(n)try{o(`Calling player updateIdentityToken with new video token: ${JSON.stringify(e)}`),window.VRTMediaPlayer.updateIdentityToken(e)}catch(e){a(`couldn't update Identity Token ${JSON.stringify(e)}`)}else t=r}function s(){if(n)try{window.VRTMediaPlayer.unloadPlayers()}catch(e){a("couldn't unload players")}else t=s}function c(){const n=null!==e;l=l.filter((t=>!(!t.onlyLegal||n)||(t.callback(e),!1)))}function b(n){o(`Received an event: ${JSON.stringify(n)}`),i=!0,!function(e){return e&&e.detail&&e.detail.state<=-1}(n)?function(n){return n&&n.detail&&n.detail.videoToken&&n.detail.videoToken!==e}(n)&&(({videoToken:e}=n.detail),r()):(e=null,d>0&&s()),c(),({state:d}=n.detail)}function v(){n=!0,t&&t()}function u(){window.VRT&&window.VRT.SSOController?window.VRT.SSOController.addEventListener("SSO-stateChanged",b):window.addEventListener("ssoControllerBootstrapped",(()=>window.VRT.SSOController.addEventListener("SSO-stateChanged",b))),window.VRTMediaPlayer.loading?window.addEventListener("vrtPlayerBootstrapped",v):v()}return u.getVideoToken=function(e,n=!1){l.push({callback:e,onlyLegal:n}),i&&setTimeout(c,0)},window.dispatchEvent(new CustomEvent("ssoEventHandlerBootstrapped",{bootstrapped:!0})),u}(),new d.SSOEventHandler);var r=1;window.VRT=window.VRT||{};const{VRT:s}=window,c={noAuth:{title:"Aanmelden",text:'Om deze video te bekijken moet je aangemeld zijn.<br/>\n        Gelieve aan te melden met je VRT-profiel.<br/>\n        Meer info vind je op de <a href="https://www.vrt.be/nl/info/vrt-profiel1/">VRT-website</a>',button:{click:()=>s.SSOController.manualLogin(),label:"Aanmelden"}},ageRestriction:{title:"Leeftijdsbeperking",text:'Je voldoet niet aan de vereiste leeftijd om deze inhoud te bekijken.<br/>\n        Meer info vind je op de <a href="https://www.vrt.be/nl/over-de-vrt/beleid/beroepsethiek/leeftijdslabels/">VRT-website</a>',button:{},cancel:"Jammer"},geoblocked:{title:"Geen rechten",text:"Voor sommige programma's heeft VRT enkel de rechten voor de Belgische markt.<br/>",button:{},cancel:"Jammer"},alternateGeoblocked:{title:"Aanmelden",text:'Deze video kan je enkel zien als je aangemeld bent in België.<br/>\n        Gelieve aan te melden met je VRT-profiel.<br/>\n        Meer info vind je op de <a href="https://www.vrt.be/nl/info/vrt-profiel1/">VRT-website</a>',button:{click:()=>s.SSOController.manualLogin(),label:"Aanmelden"}},checkRoaming:{title:"Even geduld",text:"We controleren even of je in België woont aan de hand van je gsm-nummerverificatie.",button:{}}},b=()=>s.SSOController.getState()===r,v=e=>{b()?s.SSOController.addScopePrompting(e):s.SSOController.manualLogin(e)},u={CONTENT_AVAILABLE_ONLY_FOR_BE_RESIDENTS:()=>{if(!b())return{title:"Meld je aan om deze video te bekijken.",text:"Je kan in het buitenland video's bekijken indien je bent aangemeld en je Belgische woonplaats of identiteit bevestigd hebt.",button:{click:()=>v("portability"),label:"Bevestigen"}};const{country:e}=(s.SSOController.getUserData()||{address:{}}).address;return"BE"!==e?{title:"Deze video is enkel beschikbaar voor inwoners van België.",text:"Wij hebben geen rechten om deze video uit te zenden in het land waar jij woont."}:{title:"Deze video is enkel beschikbaar voor inwoners van België.",text:"Je kan in het buitenland video's bekijken indien je jouw Belgische woonplaats of identiteit bevestigd hebt.",button:{click:()=>v("portability"),label:"Bevestigen"}}},CONTENT_AVAILABLE_ONLY_FOR_BE_RESIDENTS_AND_EXPATS:()=>{if(!b())return{title:"Meld je aan om deze video te bekijken.",text:"Je kan in het buitenland video's bekijken indien je bent aangemeld en je Belgische identiteit bevestigd hebt.",button:{click:()=>v("portability"),label:"Bevestigen"}};const{country:e}=(s.SSOController.getUserData()||{address:{}}).address;return"BE"===e?{title:"Deze video is enkel beschikbaar voor inwoners van België.",text:"Indien je momenteel in het buitenland bent, kan je de video bekijken, nadat je je Belgische woonplaats of identiteit bevestigd hebt.",button:{click:()=>v("portability"),label:"Bevestigen"}}:{title:"Deze video is enkel beschikbaar voor personen met een Belgische identiteit",text:"Je kan in het buitenland video's bekijken indien je jouw Belgische identiteit bevestigd hebt.",button:{click:()=>v("portability"),label:"Bevestigen"}}},CONTENT_IS_AGE_RESTRICTED:()=>b()?{title:"Je bent nog wat jong",text:"Sorry, je kan deze video nog niet bekijken. Maar je vindt vast en zeker iets anders dat even leuk is."}:{title:"Ben je oud genoeg?",text:"Meld je aan met je VRT-profiel. Zo kunnen we je leeftijd checken.",button:{click:()=>s.SSOController.manualLogin(),label:"Aanmelden"}},CONTENT_REQUIRES_AUTHENTICATION:()=>({title:"Aanmelden met je VRT-profiel",text:"Zonder je aan te melden kan je alleen live kijken. Wil je iets anders bekijken? Meld je dan aan.",button:{click:()=>s.SSOController.manualLogin(),label:"Aanmelden"}}),CONTENT_AVAILABLE_ONLY_IN_BE:()=>({title:"Deze video is enkel beschikbaar binnen België.",text:"Wij hebben geen rechten om deze video uit te zenden in het land waar jij je nu bevindt."}),CONTENT_UNAVAILABLE_VIA_PROXY:()=>({title:"Sorry, niet beschikbaar",text:"We hebben gedetecteerd dat je een proxy gebruikt. Jammer genoeg is dit niet toegelaten. Probeer op een andere manier te kijken."}),CONTENT_CURRENTLY_UNAVAILABLE:()=>({title:"Tijdelijk onbeschikbaar",text:"Je kan deze video tijdelijk niet bekijken. Sorry voor het ongemak."}),DEFAULT:()=>({title:"Er liep iets mis",text:"Er liep iets mis met de video. Neem contact op als het probleem aanhoudt"})},g={CONTENT_REQUIRES_AUTHENTICATION:()=>({title:"Ga verder met je VRT-profiel",text:"Je kan momenteel enkel onze live programma's volgen. Wil je van dit fragment en ons hele aanbod genieten? Meld je dan aan met je VRT-profiel of maak eenvoudig een nieuw profiel aan. Veel plezier met ons aanbod!",button:{click:()=>s.SSOController.manualLogin(),label:"Aanmelden"}}),DEFAULT:()=>({title:"Er liep iets mis",text:"Er liep iets mis met de audio. Neem contact op als het probleem aanhoudt"})},m=e=>{const n=e.querySelector(".sso-overlay");n&&n.parentNode.removeChild(n)},k=(e,n)=>{m(e),e.classList.add("sso-overlay-parent");const t=document.createElement("div");t.className="sso-overlay";const i=document.createElement("div");i.className="sso-overlay-window",t.appendChild(i);const o=document.createElement("div");o.className="sso-overlay-logo",o.innerHTML='<svg viewBox="0 0 57 29" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M49.6159 3.69814C48.6677 2.84977 48.1188 1.57591 48.0137 0H42.2984C42.3388 1.13812 42.5331 2.26552 42.8762 3.35144C43.4262 5.11893 44.4381 6.70753 45.8074 7.9531C47.1459\n    9.14312 48.7782 9.95379 50.5352 10.3012C51.3225 10.4622 52.1243 10.5423 52.9279 10.5402H54.7507V4.82491H52.9384C51.6042 4.82491 50.4616 4.44144 49.6264 3.69288"/>\n    <path d="M38.5661 6.06463C31.6374 6.06463 22.7913 7.59064 25.0606 27.8227H31.2066C30.9702 25.1962 30.7969 23.0424 30.7785 20.9334C30.7785 14.9212 32.3544 11.428 38.4768 11.6775L39.7323\n    11.7248V6.13029C39.3199 6.08302 38.6975 6.06726 38.5661 6.06463Z"/>\n    <path d="M18.3603 6.13029C17.5015 9.28212 16.4114 12.7911 15.3267 16.0454C14.5387 18.4093 12.8919 22.8743 12.8919 22.8743H12.6293C11.7546 20.584 10.9903 18.4093 10.1945 16.0454C9.08609\n    12.7938 7.94618 9.28474 7.09256 6.13029H0.5C1.65304 9.75226 2.9164 13.369 4.3137 17.0487C5.71101 20.7285 7.05842 24.3189 8.66585 27.8175H16.6163C18.208 24.3137 19.5528 20.7259 20.958\n    17.0487C22.3631 13.3716 23.6291 9.75226 24.7822 6.13029H18.3603Z"/>\n    <path d="M54.7402 21.4692C53.624 22.0286 52.2424 22.4147 51.2916 22.4147C49.5003 22.4147 48.4944 21.7791 48.1398 19.6096C47.8771 17.9995 47.7694 14.7032 48.0768 11.73H42.1986C41.9097\n    15.2758 41.8913 17.4611 42.3536 20.5604C43.0811 25.451 46.0307 28.1326 50.9712 28.0985C52.7677 28.0985 54.3174 27.7255 56.5 26.5804L54.7402 21.4692Z"/>\n    <path d="M49.6159 3.69814C48.6677 2.84977 48.1188 1.57591 48.0137 0H42.2984C42.3388 1.13812 42.5331 2.26552 42.8762 3.35144C43.4262 5.11893 44.4381 6.70753 45.8074 7.9531C47.1459 9.14312\n    48.7782 9.95379 50.5352 10.3012C51.3225 10.4622 52.1243 10.5423 52.9279 10.5402H54.7507V4.82491H52.9384C51.6042 4.82491 50.4616 4.44144 49.6264 3.69288"/>\n    <path d="M38.5661 6.06463C31.6374 6.06463 22.7913 7.59064 25.0606 27.8227H31.2066C30.9702 25.1962 30.7969 23.0424 30.7785 20.9334C30.7785 14.9212 32.3544 11.428 38.4768 11.6775L39.7323\n    11.7248V6.13029C39.3199 6.08302 38.6975 6.06726 38.5661 6.06463Z"/>\n    <path d="M18.3603 6.13029C17.5015 9.28212 16.4114 12.7911 15.3267 16.0454C14.5387 18.4093 12.8919 22.8743 12.8919 22.8743H12.6293C11.7546 20.584 10.9903 18.4093 10.1945 16.0454C9.08609\n    12.7938 7.94618 9.28474 7.09256 6.13029H0.5C1.65304 9.75226 2.9164 13.369 4.3137 17.0487C5.71101 20.7285 7.05842 24.3189 8.66585 27.8175H16.6163C18.208 24.3137 19.5528 20.7259 20.958\n    17.0487C22.3631 13.3716 23.6291 9.75226 24.7822 6.13029H18.3603Z"/>\n    <path d="M54.7402 21.4692C53.624 22.0286 52.2424 22.4147 51.2916 22.4147C49.5003 22.4147 48.4944 21.7791 48.1398 19.6096C47.8771 17.9995 47.7694 14.7032 48.0768 11.73H42.1986C41.9097\n    15.2758 41.8913 17.4611 42.3536 20.5604C43.0811 25.451 46.0307 28.1326 50.9712 28.0985C52.7677 28.0985 54.3174 27.7255 56.5 26.5804L54.7402 21.4692Z"/>\n    </svg>';const a=document.createElement("h2");a.className="sso-overlay-title",a.textContent=n.title;const l=document.createElement("div");l.className="sso-overlay-text",l.innerHTML=n.text;const d=(e=>{const n=document.createElement("div");if(n.className="sso-overlay-buttons",e.button&&e.button.label){const t=document.createElement("button");t.className="sso-overlay-button",t.onclick=n=>{(e=>{e.target.parentNode.parentNode.parentNode.classList.add("sso-overlay-hide")})(n),e.button.click()},t.textContent=e.button.label,n.appendChild(t)}return n})(n);return i.appendChild(o),i.appendChild(a),i.appendChild(l),i.appendChild(d),e.appendChild(t),t};const p={104:function(e,n){a(`geo blocked with ${JSON.stringify(n)}`),k(e,c.geoblocked)},105:function(e,n){a(`no auth with ${JSON.stringify(n)}`),k(e,c.noAuth)},107:function(e,n){a(`no roam with ${JSON.stringify(n)}`),k(e,c.checkRoaming)},109:function(e,n){a(`age restriction with ${JSON.stringify(n)}`),k(e,c.ageRestriction)},"-1":function(e,n){const t=(u[n.content.code]||u.DEFAULT)();k(e,t)},"-2":function(e,n){const t=(g[n.content.code]||g.DEFAULT)();k(e,t)}};function h(e,n){a(`in default handler with ${JSON.stringify(n)}`),"canplay"===n.name&&m(e)}s.SSOPlayerEventHandler?l("VRT.SSOPlayerEventHandler has already been taken. Exiting..."):(s.SSOPlayerEventHandler=e=>n=>{a(`*** video event ${JSON.stringify(n)}`);(p[n.code]||h)(e,n)},window.dispatchEvent(new CustomEvent("ssoPlayerEventHandlerBootstrapped",{bootstrapped:!0})))}();
//# sourceMappingURL=combinedeventhandler.min.js.map
