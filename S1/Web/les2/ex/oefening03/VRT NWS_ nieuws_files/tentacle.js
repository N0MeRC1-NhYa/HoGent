(()=>{var a,o;a={8499:(n,e,t)=>{window.tentacles=window.tentacles||{},window.tentacles.initiated=!1;var I=window.console,v=function(){},d=function(){},X=["h1","h2","h3","h4","h5","h6","p","span","strong","cite"],H=["img","source"],g="landing",o="article",r=(window.tentaclesProcessedABTitles=!1,!!window.tentacles.flickerHandling&&window.tentacles.flickerHandling),y=window.tentacles.apiToken;function V(){r&&document.body.classList.remove("tentacles-flicker-handling")}y||""===y||I.error('TENTACLES: No API key given. Please add a valid apiToken above this script call: window.tentacles = { apiToken: "09876543edfghy7"};'),window.tentacles.version="2.4.16.1";var f,l,s,a,i,c="1"===localStorage.getItem("tentacles-version")?(I.log("TENTACLES: Version 1 detected and loaded"),window.tentacles.installUri?window.tentacles.installUri+"/tentacles.js?":"https://tentacles.smartocto.com/ten/tentacles.js?v=1758623878313"):window.tentacles.installUri?window.tentacles.installUri+"/tentacles-20.js?":"https://tentacles.smartocto.com/ten/tentacles-20.js?v=1758623878313",Y=null,_=null,W=null,z=null,Z=null,G=null,K={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,a,o,r,i,l="",s=0;for(e=K._utf8_encode(e);s<e.length;)a=(t=e.charCodeAt(s++))>>2,o=(3&t)<<4|(t=e.charCodeAt(s++))>>4,r=(15&t)<<2|(n=e.charCodeAt(s++))>>6,i=63&n,isNaN(t)?r=i=64:isNaN(n)&&(i=64),l=l+this._keyStr.charAt(a)+this._keyStr.charAt(o)+this._keyStr.charAt(r)+this._keyStr.charAt(i);return l},decode:function(e){var t,n,a,o,r,i="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)t=this._keyStr.indexOf(e.charAt(l++))<<2|(o=this._keyStr.indexOf(e.charAt(l++)))>>4,n=(15&o)<<4|(o=this._keyStr.indexOf(e.charAt(l++)))>>2,a=(3&o)<<6|(r=this._keyStr.indexOf(e.charAt(l++))),i+=String.fromCharCode(t),64!==o&&(i+=String.fromCharCode(n)),64!==r&&(i+=String.fromCharCode(a));return K._utf8_decode(i)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"n");for(var t="",n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?t+=String.fromCharCode(a):(127<a&&a<2048?t+=String.fromCharCode(a>>6|192):t=(t+=String.fromCharCode(a>>12|224))+String.fromCharCode(a>>6&63|128),t+=String.fromCharCode(63&a|128))}return t},_utf8_decode:function(e){var t,n="",a=0;for(c1=c2=0;a<e.length;)(t=e.charCodeAt(a))<128?(n+=String.fromCharCode(t),a++):191<t&&t<224?(c2=e.charCodeAt(a+1),n+=String.fromCharCode((31&t)<<6|63&c2),a+=2):(c2=e.charCodeAt(a+1),c3=e.charCodeAt(a+2),n+=String.fromCharCode((15&t)<<12|(63&c2)<<6|63&c3),a+=3);return n}},Q=(f=String.fromCharCode,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",a={},i={compressToBase64:function(e){if(null==e)return"";var t=i._compress(e,6,function(e){return l.charAt(e)});switch(t.length%4){default:case 0:return t;case 1:return t+"===";case 2:return t+"==";case 3:return t+"="}},decompressFromBase64:function(t){return null==t?"":""===t?null:i._decompress(t.length,32,function(e){return ee(l,t.charAt(e))})},compressToUTF16:function(e){return null==e?"":i._compress(e,15,function(e){return f(e+32)})+" "},decompressFromUTF16:function(t){return null==t?"":""===t?null:i._decompress(t.length,16384,function(e){return t.charCodeAt(e)-32})},compressToUint8Array:function(e){for(var t=i.compress(e),n=new Uint8Array(2*t.length),a=0,o=t.length;a<o;a++){var r=t.charCodeAt(a);n[2*a]=r>>>8,n[2*a+1]=r%256}return n},decompressFromUint8Array:function(e){if(null==e)return i.decompress(e);for(var t=new Array(e.length/2),n=0,a=t.length;n<a;n++)t[n]=256*e[2*n]+e[2*n+1];var o=[];return t.forEach(function(e){o.push(f(e))}),i.decompress(o.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":i._compress(e,6,function(e){return s.charAt(e)})},decompressFromEncodedURIComponent:function(t){return null==t?"":""===t?null:(t=t.replace(/ /g,"+"),i._decompress(t.length,32,function(e){return ee(s,t.charAt(e))}))},compress:function(e){return i._compress(e,16,function(e){return f(e)})},_compress:function(e,t,n){if(null==e)return"";for(var a,o,r,i,l={},s={},c="",d=2,g=3,u=2,m=[],h=0,p=0,f=0;f<e.length;f+=1)if(r=e.charAt(f),Object.prototype.hasOwnProperty.call(l,r)||(l[r]=g++,s[r]=!0),i=c+r,Object.prototype.hasOwnProperty.call(l,i))c=i;else{if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(a=0;a<u;a++)h<<=1,p===t-1?(p=0,m.push(n(h)),h=0):p++;for(o=c.charCodeAt(0),a=0;a<8;a++)h=h<<1|1&o,p===t-1?(p=0,m.push(n(h)),h=0):p++,o>>=1}else{for(o=1,a=0;a<u;a++)h=h<<1|o,p===t-1?(p=0,m.push(n(h)),h=0):p++,o=0;for(o=c.charCodeAt(0),a=0;a<16;a++)h=h<<1|1&o,p===t-1?(p=0,m.push(n(h)),h=0):p++,o>>=1}0==--d&&(d=Math.pow(2,u),u++),delete s[c]}else for(o=l[c],a=0;a<u;a++)h=h<<1|1&o,p===t-1?(p=0,m.push(n(h)),h=0):p++,o>>=1;0==--d&&(d=Math.pow(2,u),u++),l[i]=g++,c=String(r)}if(""!==c){if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(a=0;a<u;a++)h<<=1,p===t-1?(p=0,m.push(n(h)),h=0):p++;for(o=c.charCodeAt(0),a=0;a<8;a++)h=h<<1|1&o,p===t-1?(p=0,m.push(n(h)),h=0):p++,o>>=1}else{for(o=1,a=0;a<u;a++)h=h<<1|o,p===t-1?(p=0,m.push(n(h)),h=0):p++,o=0;for(o=c.charCodeAt(0),a=0;a<16;a++)h=h<<1|1&o,p===t-1?(p=0,m.push(n(h)),h=0):p++,o>>=1}0==--d&&(d=Math.pow(2,u),u++),delete s[c]}else for(o=l[c],a=0;a<u;a++)h=h<<1|1&o,p===t-1?(p=0,m.push(n(h)),h=0):p++,o>>=1;0==--d&&(d=Math.pow(2,u),u++)}for(o=2,a=0;a<u;a++)h=h<<1|1&o,p===t-1?(p=0,m.push(n(h)),h=0):p++,o>>=1;for(;;){if(h<<=1,p===t-1){m.push(n(h));break}p++}return m.join("")},decompress:function(t){return null==t?"":""===t?null:i._decompress(t.length,32768,function(e){return t.charCodeAt(e)})},_decompress:function(e,t,n){for(var a,o,r,i,l,s,c=[],d=4,g=4,u=3,m="",h=[],_={val:n(0),position:t,index:1},p=0;p<3;p+=1)c[p]=p;for(o=0,i=Math.pow(2,2),l=1;l!==i;)r=_.val&_.position,_.position>>=1,0===_.position&&(_.position=t,_.val=n(_.index++)),o|=(0<r?1:0)*l,l<<=1;switch(o){case 0:for(o=0,i=Math.pow(2,8),l=1;l!==i;)r=_.val&_.position,_.position>>=1,0===_.position&&(_.position=t,_.val=n(_.index++)),o|=(0<r?1:0)*l,l<<=1;s=f(o);break;case 1:for(o=0,i=Math.pow(2,16),l=1;l!==i;)r=_.val&_.position,_.position>>=1,0===_.position&&(_.position=t,_.val=n(_.index++)),o|=(0<r?1:0)*l,l<<=1;s=f(o);break;case 2:return""}for(a=c[3]=s,h.push(s);;){if(e<_.index)return"";for(o=0,i=Math.pow(2,u),l=1;l!==i;)r=_.val&_.position,_.position>>=1,0===_.position&&(_.position=t,_.val=n(_.index++)),o|=(0<r?1:0)*l,l<<=1;switch(s=o){case 0:for(o=0,i=Math.pow(2,8),l=1;l!==i;)r=_.val&_.position,_.position>>=1,0===_.position&&(_.position=t,_.val=n(_.index++)),o|=(0<r?1:0)*l,l<<=1;c[g++]=f(o),s=g-1,d--;break;case 1:for(o=0,i=Math.pow(2,16),l=1;l!==i;)r=_.val&_.position,_.position>>=1,0===_.position&&(_.position=t,_.val=n(_.index++)),o|=(0<r?1:0)*l,l<<=1;c[g++]=f(o),s=g-1,d--;break;case 2:return h.join("")}if(0===d&&(d=Math.pow(2,u),u++),c[s])m=c[s];else{if(s!==g)return null;m=a+a.charAt(0)}h.push(m),c[g++]=a+m.charAt(0),a=m,0==--d&&(d=Math.pow(2,u),u++)}}});function ee(e,t){if(!a[e]){a[e]={};for(var n=0;n<e.length;n++)a[e][e.charAt(n)]=n}return a[e][t]}void 0!==(t=function(){return Q}.call(e,t,e,n))&&(n.exports=t),Math.round10||(Math.round10=function(e,t){return e=e,void 0===(t=t)||0==+t?Math.round(e):(e=+e,t=+t,isNaN(e)||"number"!=typeof t||t%1!=0?NaN:(e=e.toString().split("e"),+((e=(e=Math.round(+(e[0]+"e"+(e[1]?+e[1]-t:-t)))).toString().split("e"))[0]+"e"+(e[1]?+e[1]+t:t))))});var te=3e4,ne="active",ae="completed",u="t"===localStorage.getItem("tentaclesEnabled"),P=JSON.parse(localStorage.getItem("tentacles_"+y+"_urls"));localStorage.removeItem("tentacles_user_id"),localStorage.removeItem("tentacle_pagedata"),localStorage.removeItem("tentacles_pagedata"),localStorage.removeItem("tentacles_domainregex"),localStorage.removeItem("tentacles_useDivolte"),localStorage.removeItem("tentacles_reading_time"),localStorage.removeItem("tentacles_basePaths"),localStorage.removeItem("tentacles_urls"),localStorage.removeItem("tentacles_data_layer_config"),localStorage.removeItem("tentacles_page_urls"),localStorage.removeItem("tentacles_excludeclasses"),localStorage.removeItem("tentacles_domainsearchpath"),localStorage.removeItem("tentacles_urls_time"),localStorage.removeItem("tentacles_useIngestionApi"),localStorage.removeItem("tentacles_activefilter"),localStorage.removeItem("tentacles_dockcache_time"),localStorage.removeItem("tentacles_domainvpath"),localStorage.removeItem("tentacles_xPathIds"),localStorage.removeItem("tentacles_currentHostname"),localStorage.removeItem("tentacles_replacementElements"),localStorage.removeItem("tentacles_useDivInReplacement");var m,h,b,p,w,S,T,k,C,oe,re=!0,ie=!0,O=[],le=[],se="",A=!1,ce="",x="",N=[],L=!1,E=[],D=!1,J=null,R=!1,M=!1,U=null,j=!1,B=!1,q=null,de=null,ge=null,ue=null,me=null;function he(e,t,n){for(var a=0;a<e.length;a++)if(e[a][t]===n)return e[a];return null}function pe(){return new Promise(function(t,e){try{window&&window.tentacles.hasOwnProperty("pageType")&&(window.tentacles.pageType.toLowerCase()===o?t(!0):t(!1));var n=localStorage.getItem("tentacles_"+y+"_basePaths");null!==n?-1===JSON.parse(n).indexOf(window.location.pathname)?t(!0):t(!1):F().then(function(e){t(!!e)})}catch(t){e(t)}})}function F(g){return new Promise(function(t,n){try{var e,a,o=localStorage.getItem("tentacles_"+y+"_domainregex"),r=null!==(r=localStorage.getItem("tentacles_"+y+"_domainregex_on_params"))&&"true"===r,i=localStorage.getItem("tentacles_"+y+"_domainvpath"),l=new RegExp(i,"g"),s=localStorage.getItem("tentacles_"+y+"_basePaths"),c=r?window.location.href:window.location.pathname,d=!1;g&&(c=g),i&&(d=l.test(c)),o?(e=new RegExp(o,"g").exec(c))&&2<=e.length?(e.splice(0,1),a=e.filter(function(e){if(e)return e}).map(function(e){return e.toString()})[0],s?Ce("feed"+a).then(function(e){e=e.substring(0,20);t(d?"v"+e:e)}):t(d?"v"+a:a)):t():s?Ce("feed"+c).then(function(e){e=e.substring(0,20);t(d?"v"+e:e)}):t()}catch(e){n(e)}})}function fe(){return new Promise(function(e,t){window.ingestion&&void 0!==window.ingestion?e(!0):ke({url:window.tentacles.installUri?window.tentacles.installUri+"/ingestion.js":"https://tentacles.smartocto.com/ten/ingestion.js?v=1758623878313",defer:!0,async:!0}).then(()=>{void 0===window.ingestion&&window.module&&window.module.exports&&(window.ingestion=window.module.exports),e(!0)}).catch(e=>{I.error("IngestionApi failed to load: ",e),t(!1)})})}function _e(i){return new Promise(function(n,t){var e,a,o,r;u?n(!0):(e=window&&window.tentacles&&window.tentacles.brandId?window.tentacles.brandId:void 0,a=window&&window.tentacles&&window.tentacles.relationId?window.tentacles.relationId:void 0,o=Ae(),i&&"object"==typeof i&&(i.brandId&&(e=i.brandId),i.relationId&&(a=i.relationId),i.channel)&&(o=i.channel),r={},fe().then(()=>{r.channel=o,r.brandId=e;let t=Ie();t===g?a?(r.relationId=null,r.pageType=t,window.ingestion.signal("pageView",r),n(!0)):Se().then(e=>{r.relationId=e,r.pageType=t,window.ingestion.signal("pageView",r),n(!0)}):(r.pageType=t,a&&(r.relationId=a),window.ingestion.signal("pageView",r),n(!0))}).catch(e=>{I.error("IngestionApi failed to load: ",e),t(!1)}))})}function we(r,i,l){return new Promise(function(n,a){if(i=i||localStorage.getItem("tentacles_linkClick"),r&&i)try{var e=(()=>{for(var e=(e=>{var t,n,a,o=0,r=[];if(""===e.trim())return[];if(/[^0-9a-fA-F]/.test(e))return!1;for(n=(t=e.match(/.{1,2}/g)).length,a=0;a<n;++a)""!==t[a].trim()&&(r[o++]=parseInt(t[a],16));return r})(i),t="",n=0;n<e.length;n+=2)t+=String.fromCharCode(e[n]|e[n+1]<<8);return t})(),e=Q.decompressFromUTF16(e),t=JSON.parse(e);function o(e,t){fe().then(()=>{t&&!u?M&&(ingestion.signal(e,t),v("Link click event sent to ingestion API",e,t),n()):I.warn("Tentacles desktop is activated no data is sent.")}).catch(e=>{I.error("IngestionApi failed to load: ",e),a(e)})}t.relationId=r,localStorage.getItem("tentacles_linkClick")&&localStorage.removeItem("tentacles_linkClick"),ve("linkclick")||window.tentacles.hasOwnProperty("trackauto")&&!window.tentacles.trackauto?(v("window.tentacles.manualEvents is set, window.tentacles.trackauto is set to false","current type",l,"content",t),l?(o(l,t),n()):a("Click event cannot be sent because type is not defined.")):(Y=setTimeout(o,500,"linkClick",t),_=setTimeout(o,1e4,"loyaltyClick",t))}catch(e){d(e),localStorage.getItem("tentacles_linkClick")&&localStorage.removeItem("tentacles_linkClick"),a(e)}})}function Se(){return new Promise(function(t,e){try{Ce("landing"+(()=>{var n=document.querySelector("link[rel='canonical']"),a=document.querySelector("meta[property='og:url']");if(null!==n&&n.hasAttribute("href")){let e=n.getAttribute("href"),t=(0!==e.indexOf("http")&&(e=new URL(document.URL).origin+e),new URL(e));return t.origin+t.pathname}if(null!==a&&a.hasAttribute("content")){let e=a.getAttribute("content"),t=(0!==e.indexOf("http")&&(e=new URL(document.URL).origin+e),new URL(e));return t.origin+t.pathname}let e=new URL(document.URL);return e.origin+e.pathname})()).then(function(e){e=e.substring(0,20);t(e)})}catch(t){e(t)}})}function Ie(){return window&&window.tentacles.hasOwnProperty("pageType")&&"string"==typeof window.tentacles.pageType&&window.tentacles.pageType.toLowerCase()===g?g:o}function ve(t){return window.tentacles.hasOwnProperty("manualEvents")&&"string"==typeof window.tentacles.manualEvents&&0<window.tentacles.manualEvents.split(",").filter(function(e){return e.trim().toLowerCase()===t.trim().toLowerCase()}).length}function ye(e,t){var n=new XMLHttpRequest;return"withCredentials"in n?n.open(e,t,!0):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest).open(e,t):n=null,n}function Pe(e){return(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.toLocaleLowerCase()).replace(/\+/g,"")).replace(/\*/g,"")).replace(/\-/g,"")).replace(/\=/g,"")).replace(/&&/g,"")).replace(/||/g,"")).replace(/>/g,"")).replace(/</g,"")).replace(/!/g,"")).replace(/\(/g,"")).replace(/\)/g,"")).replace(/{/g,"")).replace(/}/g,"")).replace(/\[/g,"")).replace(/]/g,"")).replace(/^/g,"")).replace(/"/g,"")).replace(/~/g,"")).replace(/\?/g,"")).replace(/:/g,"")).replace(/\\/g,"")).replace(/\//g,"")}function be(e,l,s){var c,n,a;e&&2<e.length&&null!==(c=(e=>{var t,n={};if(null===e||!Array.isArray(e))return null;for(t in e){var a,o=e[t];for(a in o)if(o[a]&&o[a].mapping){var r=o[a].mapping;if(r)for(var i=0;i<r.length;i++){var l=r[i],s=l.inputField,c="["!==s.substring(0,1)?".":"",c="["!==s.substring(0,1)?s:a+c+s,s=l.outputField;s in n&&n[s]||(n[s]=(e=>{try{var t=null,n=(a=(a=e).replace(/\[(\d+)]/g,".$1"),o=window[a.substring(0,a.indexOf("."))],a=a.substring(a.indexOf(".")+1),String(a).split(".").reduce(function(e,t){try{e=e[t]}catch(e){return null}return e},o));return t=n?"string"==typeof n||n instanceof String?n.split("!").join("&#33;"):n:t}catch(e){I.error(e)}var a,o})(c))}}}return n})(e=JSON.parse(e)))&&null!==l&&(n=l,a=s,new Promise((t,e)=>{Ce(Pe(n+"_"+a)).then(e=>{t(e)})}).then(e=>{var t,n,a,o=Ie(),r=c,i=(o===g&&(t=(a=new Date).getUTCFullYear(),n=("0"+(a.getUTCMonth()+1)).slice(-2),a=("0"+a.getUTCDate()).slice(-2),r.date=t+"-"+n+"-"+a),(e=>{try{var t=K.encode(JSON.stringify(e)),n=t.length,a=0;if(n<16)return t;for(var o=0;o<n;o++)a+=t.charCodeAt(o);return Pe(K.encode(t.substring(0,8)+"-"+t.substring(n/2-4,n/2+4)+"-"+t.substring(n-8,n)+"-"+a))}catch(e){I.error(e)}})(c));c.hash=i,c.brandId=l,c.documentId=e,c.channel=Ae(),(c.pageType=o)===g&&(c.relationId=s,c.hasOwnProperty("title")&&c.title||(c.title=document.title)),Z=setTimeout(function(){var t;u||(t=ye("get","https://api.smartocto.com/api/brands/"+l+"/dataLayer/"+e+"_"+i))&&(t.onreadystatechange=function(){var e;4===this.readyState&&200===this.status&&(e=JSON.parse(t.responseText))&&!1===e.match&&(M&&fe().then(()=>{ingestion.signal("dataLayer",c)}),clearTimeout(Z))},t.send())},5e3)}))}function Te(e){if(e&&0<e.length){for(var n=[],a=localStorage.getItem("tentacles_"+y+"_brand"),t=0;t<e.length;t++){var o=e[t],r=o.linkPath.trim().toLowerCase();0!==r.indexOf("http://")&&0!==r.indexOf("https://")?o.linkPath=location.origin+r:o.linkPath=r,n.push({brandId:a,relationId:o.relationId,linkPosition:o.linkPosition,linkSourcePath:o.linkSourcePath,linkXPath:o.linkXPath,uri:o.linkPath})}G=setTimeout(function(){var e,t;!u&&!(()=>{let t=navigator.userAgent.toLowerCase(),e=[/android/i,/webos/i,/iphone/i,/ipad/i,/ipod/i,/blackberry/i,/windows phone/i,/mobile/i].some(e=>e.test(t)),n=window.innerWidth<=768,a="ontouchstart"in window||0<navigator.maxTouchPoints,o=e||n&&a;return{deviceType:o?"Mobile":"Desktop",isMobile:o}})().isMobile&&(e=a,I.log("Checking page mapping",window.location.pathname),t=ye("get","https://api.smartocto.com/api/brands/"+e+"/tentacles/teaser_check?path="+window.location.pathname))&&(t.onreadystatechange=function(){var e;4===this.readyState&&200===this.status&&(e=JSON.parse(t.responseText))&&e.mapping_require_update&&M&&(I.log("Posting page mapping to ingestion API"),ingestion.signal("pagemapping",n,"post"))},t.send())},3e3)}else I.error("Page mapping is not available")}function ke(a){return new Promise((e,t)=>{let n=document.createElement("script");n.onerror=t,a.url||t(new Error("oops no scriptURL defined to load")),n.type="text/javascript",n.onload=e,a.hasOwnProperty("defer")&&"boolean"==typeof a.defer&&(n.defer=a.defer),a.hasOwnProperty("async")&&"boolean"==typeof a.async&&(n.async=a.async),n.src=a.url;t=document.body;t?"body-top"===a.location?t.insertBefore(n,t.firstChild):t.appendChild(n):addEventListener("DOMContentLoaded",()=>{document.body.appendChild(n)})})}function Ce(e){try{var t=(new TextEncoder).encode(e);return(window.crypto||window.msCrypto).subtle.digest("SHA-256",t).then(function(e){for(var t="",n=new DataView(e),a=0;a<n.byteLength;a+=4)t+=("00000000"+n.getUint32(a).toString(16)).slice(-8);return t})}catch(e){d(e)}}function Oe(){return new Promise(function(t,e){try{clearInterval(tentacle_timer_apply);var n,a=localStorage.getItem("tentacles_"+y+"_urls_time"),o=localStorage.getItem("tentacles_"+y+"_dockcache_time"),r=new Date;null!==a&&r<new Date(a)&&(O=JSON.parse(localStorage.getItem("tentacles_"+y+"_urls")),re=!1),u&&null!==o&&r<new Date(o)&&(ie=!1),re||u&&ie?(n=ye("get","https://api.smartocto.com/api/brands/tentacles?i="+y+(u?"&dock=true":"")))&&(n.onreadystatechange=function(){var e;4===this.readyState&&200===this.status&&((e=JSON.parse(n.responseText))||e.hasOwnProperty("headerTests")||e.hasOwnProperty("domainSettings")||d("We don't have any tentacles data received from the server"),O=e.headerTests,se=e.domainSettings.regex,A="true"===String(e.domainSettings.regex_on_params).toLocaleLowerCase(),x=e.domainSettings.vPath,h=e.domainSettings.searchPath,b=window&&window.tentacles&&window.tentacles.brandId?window.tentacles.brandId:e.domainSettings.brand,ce=e.domainSettings.mainContent,m=e.domainSettings.excludeContent,D=e.domainSettings.xPathIds,N=e.domainSettings.excludeClasses,L=e.domainSettings.useDivInReplacement,E=e.domainSettings.replacementElements,J=e.domainSettings.dataLayerConfig,R=e.domainSettings.collectReadingtime,p=e.domainSettings.basePaths,C=e.domainSettings.ignorePaths,w=e.domainSettings.customCss,j=e.domainSettings.doNotTrackUserId,S=e.domainSettings.urls,M="true"===String(e.domainSettings.useIngestionApi).toLocaleLowerCase(),B="true"===String(e.domainSettings.imageTesting).toLocaleLowerCase(),T=e.domainSettings.features,U=e.domainSettings.idp,k=e.domainSettings.sendPageMapping,e.domainSettings.hasOwnProperty("ai")&&null!==e.domainSettings.ai&&(q=e.domainSettings.ai.clientId,de=e.domainSettings.ai.publicationTimeFrom,ge=e.domainSettings.ai.publicationTimeTo,ue=e.domainSettings.ai.northstars,me=e.domainSettings.ai.goals),(null===localStorage.getItem("tentacles_"+y+"_urls")?()=>{for(var e=!(P=[]),t=0,n=O.length;t<n;t++)if(0!==O[t].testData.length){var a,e=!1,o={};if(O[t].status===ne)o.chosen=O[t].chosen,e=!0;else if(O[t].status===ae)for(var r=0,i=O[t].testData.length;r<i;r++)if(O[t].testData[r].won){e=!0,o.chosen=O[t].testData[r].id;break}o.id=O[t].id,o.relationId=O[t].relationId,o.status=O[t].status,o.oldTitle=O[t].testData[0].title,O[t].hasOwnProperty("pictures")&&(o.oldPictures=O[t].testData[0].pictures),o.type=O[t].hasOwnProperty("type")?O[t].type:"story",!1===e?(o.newTitle=o.oldTitle,o.hasOwnProperty("oldPictures")&&(o.newPictures=o.oldPictures)):(a=he(O[t].testData,"id",o.chosen),o.newTitle=a.title,a.hasOwnProperty("pictures")&&(o.newPictures=a.pictures)),0===o.chosen&&e||P.push(o)}h?localStorage.setItem("tentacles_"+y+"_domainsearchpath",h):localStorage.removeItem("tentacles_"+y+"_domainsearchpath"),localStorage.setItem("tentacles_"+y+"_urls",JSON.stringify(P)),localStorage.setItem("tentacles_"+y+"_domainregex",se),localStorage.setItem("tentacles_"+y+"_brand",b),localStorage.setItem("tentacles_"+y+"_main_content",ce),m?localStorage.setItem("tentacles_"+y+"_exclude_content",m):localStorage.removeItem("tentacles_"+y+"_exclude_content"),A?localStorage.setItem("tentacles_"+y+"_domainregex_on_params",A):localStorage.removeItem("tentacles_"+y+"_domainregex_on_params"),N?localStorage.setItem("tentacles_"+y+"_excludeclasses",JSON.stringify(N)):localStorage.removeItem("tentacles_"+y+"_excludeclasses"),E?localStorage.setItem("tentacles_"+y+"_replacementElements",JSON.stringify(E)):localStorage.removeItem("tentacles_"+y+"_replacementElements"),x?localStorage.setItem("tentacles_"+y+"_domainvpath",x):localStorage.removeItem("tentacles_"+y+"_domainvpath"),localStorage.removeItem("tentacles_"+y+"_pagemapping"),D?localStorage.setItem("tentacles_"+y+"_xPathIds",D):localStorage.removeItem("tentacles_"+y+"_xPathIds"),L?localStorage.setItem("tentacles_"+y+"_useDivInReplacement",JSON.stringify(L)):localStorage.removeItem("tentacles_"+y+"_useDivInReplacement"),J?localStorage.setItem("tentacles_"+y+"_data_layer_config",JSON.stringify(J)):localStorage.removeItem("tentacles_"+y+"_data_layer_config"),R?localStorage.setItem("tentacles_"+y+"_reading_time",JSON.stringify(R)):localStorage.removeItem("tentacles_"+y+"_reading_time"),p?localStorage.setItem("tentacles_"+y+"_basePaths",JSON.stringify(p)):localStorage.removeItem("tentacles_"+y+"_basePaths"),C?localStorage.setItem("tentacles_"+y+"_ignorePaths",JSON.stringify(C)):localStorage.removeItem("tentacles_"+y+"_ignorePaths"),j?localStorage.setItem("tentacles_"+y+"_doNotTrackUserId",j):localStorage.removeItem("tentacles_"+y+"_doNotTrackUserId"),M?localStorage.setItem("tentacles_"+y+"_useIngestionApi",M):localStorage.removeItem("tentacles_"+y+"_useIngestionApi"),S&&localStorage.setItem("tentacles_"+y+"_page_urls",JSON.stringify(S)),w&&localStorage.setItem("tentacles_"+y+"_customCss",w),B&&localStorage.setItem("tentacles_"+y+"_imageTesting",B),T&&localStorage.setItem("tentacles_"+y+"_features",JSON.stringify(T)),U&&localStorage.setItem("tentacles_"+y+"_idp",U),k?localStorage.setItem("tentacles_"+y+"_sendPageMapping",k):localStorage.removeItem("tentacles_"+y+"_sendPageMapping"),q&&localStorage.setItem("tentacles_"+y+"_ai_client_id",q),de&&localStorage.setItem("tentacles_"+y+"_ai_publication_time_from",de),ge&&localStorage.setItem("tentacles_"+y+"_ai_publication_time_to",ge),ue&&localStorage.setItem("tentacles_"+y+"_ai_northstars",ue),me&&localStorage.setItem("tentacles_"+y+"_ai_goals",me)}:()=>{var e=JSON.parse(localStorage.getItem("tentacles_"+y+"_urls")),t=!1;if(0===O.length)localStorage.removeItem("tentacles_"+y+"_urls");else{for(var n,a=O.map(function(e){return e.id}),o=0;o<O.length;o++)if(0!==O[o].testData.length){for(var t=!1,r=0;r<e.length;r++)if(e[r].id===O[o].id){for(var i=0,l=O[o].testData.length;i<l;i++)if(O[o].testData[i].won){e[r].chosen=O[o].testData[i].id;break}e[r].status=O[o].status,(s=he(O[o].testData,"id",O[o].chosen))&&(e[r].type=O[o].type,e[r].chosen=O[o].chosen,s.hasOwnProperty("title")&&(e[r].newTitle=s.title),s.hasOwnProperty("pictures"))&&(e[r].newPictures=s.pictures),t=!0;break}if(!1===t){var s,c={};if(O[o].status===ne)c.chosen=O[o].chosen,t=!0;else if(O[o].status===ae)for(var r=0,d=O[o].testData.length;r<d;r++)if(O[o].testData[r].won){t=!0,c.chosen=O[o].testData[r].id;break}c.id=O[o].id,c.relationId=O[o].relationId,c.status=O[o].status,c.oldTitle=O[o].testData[0].title,O[o].hasOwnProperty("pictures")&&(c.oldPictures=O[o].testData[0].pictures),c.type=O[o].hasOwnProperty("type")?O[o].type:"story",!1===t?(c.newTitle=c.oldTitle,c.newPictures=c.oldPictures):(s=he(O[o].testData,"id",c.chosen),c.newTitle=s.title,s.hasOwnProperty("pictures")&&(c.newPictures=s.pictures)),0===c.chosen&&t||e.push(c)}}0<O.length&&(n=e.filter(function(e){if(-1!==a.indexOf(e.id))return!0})),localStorage.setItem("tentacles_"+y+"_urls",JSON.stringify(n)),P=n}h?localStorage.setItem("tentacles_"+y+"_domainsearchpath",h):localStorage.removeItem("tentacles_"+y+"_domainsearchpath"),localStorage.setItem("tentacles_"+y+"_domainregex",se),localStorage.setItem("tentacles_"+y+"_brand",b),ce?localStorage.setItem("tentacles_"+y+"_main_content",ce):localStorage.removeItem("tentacles_"+y+"_main_content"),m?localStorage.setItem("tentacles_"+y+"_exclude_content",m):localStorage.removeItem("tentacles_"+y+"_exclude_content"),A?localStorage.setItem("tentacles_"+y+"_domainregex_on_params",JSON.stringify(A)):localStorage.removeItem("tentacles_"+y+"_domainregex_on_params"),N?localStorage.setItem("tentacles_"+y+"_excludeclasses",JSON.stringify(N)):localStorage.removeItem("tentacles_"+y+"_excludeclasses"),E?localStorage.setItem("tentacles_"+y+"_replacementElements",JSON.stringify(E)):localStorage.removeItem("tentacles_"+y+"_replacementElements"),x?localStorage.setItem("tentacles_"+y+"_domainvpath",x):localStorage.removeItem("tentacles_"+y+"_domainvpath"),localStorage.removeItem("tentacles_"+y+"_pagemapping"),D?localStorage.setItem("tentacles_"+y+"_xPathIds",D):localStorage.removeItem("tentacles_"+y+"_xPathIds"),L?localStorage.setItem("tentacles_"+y+"_useDivInReplacement",JSON.stringify(L)):localStorage.removeItem("tentacles_"+y+"_useDivInReplacement"),J?localStorage.setItem("tentacles_"+y+"_data_layer_config",JSON.stringify(J)):localStorage.removeItem("tentacles_"+y+"_data_layer_config"),R?localStorage.setItem("tentacles_"+y+"_reading_time",JSON.stringify(R)):localStorage.removeItem("tentacles_"+y+"_reading_time"),p?localStorage.setItem("tentacles_"+y+"_basePaths",JSON.stringify(p)):localStorage.removeItem("tentacles_"+y+"_basePaths"),C?localStorage.setItem("tentacles_"+y+"_ignorePaths",JSON.stringify(C)):localStorage.removeItem("tentacles_"+y+"_ignorePaths"),w?localStorage.setItem("tentacles_"+y+"_customCss",w):localStorage.removeItem("tentacles_"+y+"_customCss"),S?localStorage.setItem("tentacles_"+y+"_page_urls",JSON.stringify(S)):localStorage.removeItem("tentacles_"+y+"_page_urls"),j?localStorage.setItem("tentacles_"+y+"_doNotTrackUserId",j):localStorage.removeItem("tentacles_"+y+"_doNotTrackUserId"),M?localStorage.setItem("tentacles_"+y+"_useIngestionApi",M):localStorage.removeItem("tentacles_"+y+"_useIngestionApi"),B?localStorage.setItem("tentacles_"+y+"_imageTesting",B):localStorage.removeItem("tentacles_"+y+"_imageTesting"),T?localStorage.setItem("tentacles_"+y+"_features",JSON.stringify(T)):localStorage.removeItem("tentacles_"+y+"_features"),U&&localStorage.setItem("tentacles_"+y+"_idp",U),k?localStorage.setItem("tentacles_"+y+"_sendPageMapping",k):localStorage.removeItem("tentacles_"+y+"_sendPageMapping"),q&&localStorage.setItem("tentacles_"+y+"_ai_client_id",q),de&&localStorage.setItem("tentacles_"+y+"_ai_publication_time_from",de),ge&&localStorage.setItem("tentacles_"+y+"_ai_publication_time_to",ge),ue&&localStorage.setItem("tentacles_"+y+"_ai_northstars",ue),me&&localStorage.setItem("tentacles_"+y+"_ai_goals",me)})(),localStorage.setItem("tentacles_"+y+"_urls_time",""+new Date((new Date).getTime()+te)),u&&localStorage.setItem("tentacles_"+y+"_dockcache_time",""+new Date((new Date).getTime()+te)),t())},n.send()):t()}catch(e){d(e),t()}})}function Ae(){return window&&window.tentacles&&window.tentacles.channel?window.tentacles.channel:"web"}function xe(){function l(e,t){try{u||("function"==typeof trackReadingTime?trackReadingTime(e,t):ke({url:window.tentacles.installUri?window.tentacles.installUri+"/reading-time.js":"https://tentacles.smartocto.com/ten/reading-time.js?v=1758623878313",defer:!0,async:!0}).then(function(){trackReadingTime(e,t)}).catch(function(e){I.error("Loading error trackReadingTime:",e)}))}catch(e){I.error(e)}}clearInterval(tentacle_timer_apply);function s(e){if(!(5e3<Date.now()-c)){var t=localStorage.getItem("tentacles_"+y+"_brand"),n=localStorage.getItem("tentacles_"+y+"_main_content"),a=localStorage.getItem("tentacles_"+y+"_exclude_content"),o="true"===String(localStorage.getItem("tentacles_"+y+"_reading_time"))||"false"!==String(localStorage.getItem("tentacles_"+y+"_reading_time"))&&void 0;if(window.ingestion&&t&&e){if(e&&o){var r={brandId:t,relationId:e,mainContent:n,excludeContent:a};try{var i=M&&void 0!==window.ingestion?window.ingestion:void 0;i?l(r,i):fe().then(function(){l(r,i)})}catch(e){I.error(e)}}}else W=setTimeout(function(){s(e)},500)}}var c=Date.now();function n(){var p={},f=[],w=localStorage.getItem("tentacles_"+y+"_domainsearchpath"),S="true"===localStorage.getItem("tentacles_"+y+"_xPathIds"),i=localStorage.getItem("tentacles_"+y+"_domainregex"),l=localStorage.getItem("tentacles_"+y+"_basePaths");function s(e,t,n){var a,o=e.attributes.href.nodeValue,r=e.getAttribute("tentacle-id"),i=r?r.split("-")[0]:void 0,l=((e,t)=>{if(P)for(var n=0;n<P.length;n++){var a=P[n].relationId;if(P[n].hasOwnProperty("type")&&"video"===P[n].type&&(a=P[n].relationId.substring(1)),(0<=e.indexOf(a)||t===P[n].relationId)&&0<=le.indexOf(a))return{relationId:P[n].relationId,id:P[n].id,chosenId:P[n].chosen,status:P[n].status,type:P[n].type}}})(o,i),l=l&&l.status===ne?(d=l.id,l.chosenId):d=-1,s={brandId:b,linkPath:o,linkXPath:function e(t,n){if(""!==t.id&&n)return"id('"+t.id+"')";if(t===document.body)return t.tagName.toLowerCase();for(var a=0,o=t.parentNode?t.parentNode.childNodes:[],r=0;r<o.length;r++){var i=o[r];if(i===t)return e(t.parentNode,n)+"/"+t.tagName.toLowerCase()+"["+(a+1)+"]";1===i.nodeType&&i.tagName===t.tagName&&a++}}(e,S),linkSourcePath:location.pathname,headerTestId:d,headerTestChosenId:l,relationId:i},o={top:0,left:0};if(w&&"undefined"!==w){var c,d=w.split("|");if(2===d.length)try{"class"===d[0]?1<=(c=document.getElementsByClassName(d[1])).length&&(o=c[0].getBoundingClientRect()):o=document.getElementById(d[1]).getBoundingClientRect()}catch(e){I.error(e)}}else o=document.body.getBoundingClientRect();try{var g=e.getBoundingClientRect(),u=g.top-o.top,m=g.left-o.left,h=(n&&(m=g.left-n.left),{linkX1:Math.round10(m,1),linkX2:Math.round10(m+g.width,1),linkY1:Math.round10(u,1),linkY2:Math.round10(u+g.height,1),linkHeight:Math.round10(g.height,1),linkWidth:Math.round10(g.width,1)});h.linkPosition=void 0===t?location.pathname+"_"+h.linkX1+"_"+h.linkY1+"_"+h.linkX2+"_"+h.linkY2:location.pathname+"_"+h.linkX1+"_"+h.linkY1+"_"+h.linkX2+"_"+h.linkY2+"_"+t}catch(e){I.error(e)}for(a in h)s[a]=h[a];l=Q.compressToUTF16(JSON.stringify(s));p[r]=(e=>{for(var t=[],n=0;n<e.length;n++){var a=e.charCodeAt(n);t.push(255&a),t.push(a>>8&255)}var o,r,i,l=t,s="";if(!("object"==typeof l&&l instanceof Array))return!1;for(r=l.length,o=0;o<r;++o)l[o]<0&&(l[o]=l[o]+256),void 0===l[o]&&(alert("Boom "+o),l[o]=0),s+=i=1===(i=l[o].toString(16)).length?"0"+i:i;return s.trim()})(l),f.push(s),window.tentacles_pageData=p,ve("linkclick")||e.addEventListener("click",function(e){var t=window.tentacles_pageData;v("getPagedata",t),v("tentacleId",r),v("getPagedata[tentacleId]",t[r]),localStorage.setItem("tentacles_linkClick",t[r])})}b=localStorage.getItem("tentacles_"+y+"_brand"),pe().then(function(e){if(e)V(),I.log("Tentacles is initiating Article Page"),ve("linkclick")?window.tentacles.initiated=!0:F(window.location.href).then(function(e){we(e).then(function(){window.tentacles.initiated=!0})});else{I.log("Tentacles is initiating Index Page"),i||l||I.error("Domain's regex and optional basePaths are missing");for(var t=i&&RegExp(i),n=(n=Array.from(document.body.getElementsByTagName("a"))).filter(e=>t?e.href&&t.test(e.href):e.href),a=0;a<n.length;a++)s(n[a])}let o=localStorage.getItem("tentacles_"+y+"_page_urls"),r=!1;o&&(o=JSON.parse(o)).includes(window.location.origin+window.location.pathname)&&(r=!0),"true"===localStorage.getItem("tentacles_"+y+"_sendPageMapping")&&r&&Te(f),window.tentacles.initiated=!0,I.log("Tentacles: Initiated",window.tentacles.ready())})}ve("pageview")||window.tentacles.hasOwnProperty("trackauto")&&!window.tentacles.trackauto||_e(),Oe().then(function(){v("populateCaching ended"),M=M||"true"===localStorage.getItem("tentacles_"+y+"_useIngestionApi"),u||(M||I.error("Tentacles: No data can be collected for smartocto's Tentacles, please check configuration values"),pe().then(function(e){e?F(window.location.href).then(function(e){var t;e&&(window.tentaclesProcessedABTitles=!0,document.body?n():window.addEventListener("DOMContentLoaded",function(){n()}),J=localStorage.getItem("tentacles_"+y+"_data_layer_config"),(t=localStorage.getItem("tentacles_"+y+"_brand"))&&J&&(v("call sendDataLayer"),be(J,t,e)),s(e))}):(new Promise(function(o,e){var r=document.body.getElementsByTagName("a"),i=0;if(r&&r.length){for(var t=[],l=[],n=0;n<r.length;n++)t.push((n=>new Promise(function(t,e){F(n).then(function(e){t({relationId:e,path:n})})}))(r[n].getAttribute("href")));Promise.all(t).then(function(e){l=e}).catch(function(e){I.error(e)}).finally(function(){for(var e=0;e<r.length;e++){var t=r[e].getAttribute("href"),n=r[e],a=l.filter(function(e){return e.path===t});0<a.length&&a[0].relationId&&n.setAttribute("tentacle-id",a[0].relationId+"-"+i.toString(16)),i++}o(!0)})}else o(!1)}).then(function(e){e&&new Promise(function(a){function m(e){return e.replace(/[^\w\s]/gi,"")}function h(e,t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])<0)return;return 1}var n=[],o=[],l=(L=null!==(L=localStorage.getItem("tentacles_"+y+"_useDivInReplacement"))&&"true"===L,localStorage.getItem("tentacles_"+y+"_basePaths")),r=JSON.parse(localStorage.getItem("tentacles_"+y+"_urls"));function s(t,n,a){let o=0;for(let e=0;e<n.length;e++){var r,i,_=a[e]||"",l=[],s=(e=>{for(var t,n=/\b\w+\b/g,a=[];(t=n.exec(e))&&a.push(m(t[0])););return a})(n[e]);if("a"===t.tagName.toLowerCase()&&1===t.childNodes.length&&"#text"===t.childNodes[0].nodeName&&h(s,m(t.innerText))&&t.innerText.length<=n[e].length+4)l.push([t.children.length,t]);else{L&&(u=void 0,(null===(u=localStorage.getItem("tentacles_"+y+"_replacementElements"))||"undefined"===u?[]:JSON.parse(u)).map(function(e){-1===X.indexOf(e)&&X.push(e)}));for(var c=0;c<X.length;c++)for(r=t.querySelectorAll(X[c]),i=0;i<r.length;i++)r[i]&&h(s,m(r[i].innerText))&&r[i].innerText.length<=n[e].length+4&&(d=r[i],g=void 0,d instanceof Element)&&"none"!==(g=getComputedStyle(d)).display&&"visible"===g.visibility&&!(g.opacity<.1)&&d.offsetWidth+d.offsetHeight+d.getBoundingClientRect().height+d.getBoundingClientRect().width!==0&&l.push([r[i].children.length,r[i]])}l.length&&(l.sort(function(e,t){return t[0]-e[0]}),u=l.pop(),(element=u[1]).innerText=_,o++)}var d,g,u;return o===n.length}function c(n,a){return new Promise((t,e)=>{!n.includes("b-cdn.net")&&!n.includes("smartocto.com")||0<=o.indexOf(n)?t({isReachable:!0,titleLocation:a}):fetch(n,{method:"HEAD"}).then(e=>{o.push(n),200===e.status?t({isReachable:!0,titleLocation:a}):(I.error(`Failed to fetch the URL: ${n}. Status code: `+e.status),t({isReachable:!1,titleLocation:a}))}).catch(e=>{I.error(`An error occurred while trying to fetch the URL: ${n} `+e),t({isReachable:!1,titleLocation:a})})})}function d(n,a,o){var r=new Array(a.length).fill(!1);if(0<o.length)for(let t=0;t<a.length;t++)for(let e=0;e<H.length;e++){var i=H[e],l=n.querySelectorAll(i);for(let e=0;e<l.length;e++){var s=l[e];s&&(s.src.includes(a[t])||s.srcset.includes(a[t]))&&("src"in s&&""!==s.src&&(s.src=s.src.split(a[t]).join(o[t])),"srcset"in s&&""!==s.srcset&&(s.srcset=s.srcset.split(a[t]).join(o[t])),r[t]=!0)}}return r.every(e=>e)}if(r&&0<r.length){let e=r.map(function(i){return new Promise(function(t){var r,e;0<=n.indexOf(i.relationId)?t():(n.push(i.relationId),r=i.relationId,i.hasOwnProperty("type")&&"video"===i.type&&(r=i.relationId.substring(1)),e=(l&&0<l.length?Array.from(document.querySelectorAll('a[tentacle-id^="'+r+'"]')):Array.from(document.querySelectorAll('a[href*="'+r+'"]'))).map(function(o){return new Promise(function(n){var t,e,a;"1"===o.getAttribute("data-tentacles-r")||(e=N,t=Array.from(o.classList),e&&Array.isArray(e)&&0<e.length&&t&&Array.isArray(t)&&0<t.length&&0<e.filter(function(e){return-1<t.indexOf(e)}).length)?n():(a=e=!1,i.hasOwnProperty("oldTitle")&&i.hasOwnProperty("newTitle")&&(e=!0),i.hasOwnProperty("oldPictures")&&i.hasOwnProperty("newPictures")&&0<o.querySelectorAll("img").length&&(a=!0),e&&a?c(i.newPictures[0],o).then(function(e){var t;e.isReachable?(e=s(o,i.oldTitle.split("$$"),i.newTitle.split("$$")),t=d(o,i.oldPictures,i.newPictures),e&&t?(o.setAttribute("data-tentacles-r","1"),n(r)):s(o,i.newTitle.split("$$"),i.oldTitle.split("$$"))||d(o,i.newPictures,i.oldPictures)||(o.removeAttribute("data-tentacles-r"),I.error("TENTACLES: Title and picture restore failed and could be caused by a missing match in the title.","oldTitle",JSON.stringify(i.oldTitle.split("$$")),"newTitle",JSON.stringify(i.newTitle.split("$$"),"oldPictures",JSON.stringify(i.oldPictures),"newPictures",JSON.stringify(i.newPictures))))):I.error("TENTACLES: The new picture is not reachable",i.newPictures[0]),n()}).catch(function(e){I.error("TENTACLES: An error occurred during picture and title replacement: "+e),n()}):e&&!a?new Promise((e,t)=>{e(!0)}).then(function(e){s(o,i.oldTitle.split("$$"),i.newTitle.split("$$"))&&(o.setAttribute("data-tentacles-r","1"),n(r)),n()}).catch(function(e){I.error("TENTACLES: An error occurred during title replacement: "+e),n()}):a&&!e?c(i.newPictures[0],o).then(function(e){var t=e.titleLocation;e.isReachable?d(t,i.oldPictures,i.newPictures)?(t.setAttribute("data-tentacles-r","1"),n(r)):d(t,i.newPictures,i.oldPictures)||(t.removeAttribute("data-tentacles-r"),I.warn("TENTACLES: Restoring original picture failed and could be caused by a missing match in original picture paths.","oldPictures",JSON.stringify(i.oldPictures),"newPictures",JSON.stringify(i.newPictures))):I.error("TENTACLES: The new picture is not reachable",i.newPictures[0]),n()}).catch(function(e){I.error("TENTACLES: An error occurred during picture replacement: "+e),n()}):n())})}),Promise.all(e).then(function(e){t(e)}))})});Promise.all(e).then(function(e){e=e.map(function(e){return e?e.filter(function(e){return null!=e}):[]}).filter(function(e){return 0<e.length}).map(function(e){return e[0]});for(var t=0;t<e.length;t++)le.push(e[t]);var n=r.filter(function(e){var t=e.hasOwnProperty("type")&&"video"===e.type?e.relationId.substring(1):e.relationId;return"active"===e.status&&-1<le.indexOf(t)}).map(function(e){return{headerTestId:e.id,headerTestChosenId:e.chosen}});z=setTimeout(function e(n){if(M&&void 0!==window.ingestion){let e=localStorage.getItem("tentacles_"+y+"_brand"),t;0<n.length&&!u&&(t={brandId:e,impressions:JSON.stringify(n)},M)&&ingestion.signal("impressions",t)}else z=setTimeout(e,250,n)},1e3,n),window.tentaclesProcessedABTitles=!0,a()})}else a()}).then(function(e){document.body?n():window.addEventListener("DOMContentLoaded",function(){n()})})}),(T=localStorage.getItem("tentacles_"+y+"_features")?JSON.parse(localStorage.getItem("tentacles_"+y+"_features")):[]).includes("landingPages")&&Ie()===g&&Se().then(function(e){J=localStorage.getItem("tentacles_"+y+"_data_layer_config");var t=localStorage.getItem("tentacles_"+y+"_brand");t&&J&&(v("call sendDataLayer"),be(J,t,e)),s(e)}))})),I.log("smartocto's Tentacles "+window.tentacles.version+" loaded..."),window.tentacles.initiated=!0,r&&I.log("Tentacles flicker handling is active")}).catch(function(e){d("error in populateCaching",e)})}v("Initializing Tentacles"),window.tentacles?(window.tentacles.ready=function(){return window.tentacles.initiated},window.tentacles.readyPromise=function(){return new Promise((e,t)=>{window.tentacles.ready()?e(!0):(tentacle_timer_ready=setTimeout(window.tentacles.readyPromise,100,e),e(!1))})},window.tentacles.onVideoPlay=function(t){if(t&&t.videoId&&t.title)try{t.brandId=localStorage.getItem("tentacles_"+y+"_brand"),t.channel=Ae(),t.relationId&&0<t.relationId.length?window.ingestion.signal("videoPlay",t):F(window.location.href).then(function(e){t.relationId=e}).finally(function(){window.ingestion.signal("videoPlay",t)})}catch(t){d("Error on video play event",t)}else I.error("Invalid video play request.",JSON.stringify(t))},window.tentacles.sendLinkClick=function(t){return new Promise((n,a)=>{let o=t.tentacleId,e=t.relationId,r="";if(o){let t=window.tentacles_pageData[o];if(t)if(e)we(e,t,"linkClick").then(()=>{n(!0)});else{let e=document.querySelector('a[tentacle-id="'+o+'"]');e.hasAttribute("href")?F(e.href).then(e=>{we(e,t,"linkClick").then(()=>{n(!0)})}):a(r=`Invalid link click request, we need a valid relationId or a valid link href for tentacleId ${o}.`)}else a(r=`Could not find link data for tentacleId ${o}. First start data collection with window.postMessage('activateTentacles') and check if the global variable window.tentacles.ready() or window.tentacles.readyPromise() is positive to make sure all required data is collected.`)}else a(r="Invalid request, we expect an object with the following structure: { tentacleId: string, relationId: string }, where relationId is optional.")}).catch(e=>{reject("Error on linkClick event",e)})},window.tentacles.sendPageView=function(e){return new Promise((t,n)=>{_e(e).then(e=>{e?t(!0):n("Page view event failed")}).catch(e=>{n(e)})}).catch(e=>(I.error("Error on page view event",e),!1))}):I.error("Tentacles is not loaded, please check if the script is loaded correctly."),window.tentaclesExecuted?v("%cTentacles: Skipping execution!","background: #EE191E; color: white; padding: 2px 4px; border-radius: 4px 0px 0px 4px;"):(C=localStorage.getItem("tentacles_"+y+"_ignorePaths"),e=JSON.parse(localStorage.getItem("tentacles_"+y+"_urls")),(n=document.createElement("style")).innerHTML=".tentacles-flicker-handling img, .tentacles-flicker-handling source { display: none; }",document.head.appendChild(n),e&&0<e.length&&e.filter(e=>-1!==[ne,ae].indexOf(e.status)&&e.hasOwnProperty("pictures")&&0<e.pictures.length)&&(r&&document.body.classList.add("tentacles-flicker-handling"),setTimeout(()=>{V()},1e3)),t=!1,(t=C&&0<=JSON.parse(C).indexOf(window.location.pathname)?!0:t)?v("%cTentacles: Skipping execution on "+window.location.pathname+"!","background: #EE191E; color: white; padding: 2px 4px; border-radius: 4px 0px 0px 4px;"):u?(V(),(()=>{try{return window.self!==window.top}catch(e){return 1}})()||(tentacle_timer_apply=setInterval(function(){y&&!oe&&Oe().then(function(){ke({location:"body-top",url:c}).then(function(){oe=!0}).catch(function(e){I.error("Error loading admin script:",e)})}).catch(function(e){d(e)})},100))):tentacle_timer_apply=setInterval(function(){y&&!oe&&(xe(),oe=!0)},100)),window.addEventListener("message",function(e){"activateTentacles"!==e.data&&"stopTentacles"!==e.data||(clearTimeout(Y),clearTimeout(null),clearTimeout(_),clearTimeout(W),clearTimeout(z),clearTimeout(Z),clearTimeout(G),localStorage.getItem("tentacles_"+y+"_reading_time")&&(clearInterval(window.tentacles_at_timer_sample),clearInterval(window.tentacles_at_timer_send_beat)),"activateTentacles"!==e.data)||u||xe()},!1),window.tentacles.apply=xe,window.tentaclesExecuted=!0}},o={},function e(t){var n=o[t];return void 0!==n||(n=o[t]={exports:{}},a[t](n,n.exports,e)),n.exports}(8499)})("undefined"==typeof t&&(t={}));